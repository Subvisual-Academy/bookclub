<!DOCTYPE html>
<html>
  <head>
    <title>Bookclub</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>


  <body>
    <div>
      <% flash.each do |key, value| %>
        <div class="alert alert-<%= key %>">
          <%= value %>
        </div>
      <% end %>
    </div>
    <div id="mySidebar" class="sidebar" onmouseover="toggleSidebar()" onmouseout="toggleSidebar()">
      <%= link_to (inline_svg_tag 'book-navbar.svg', alt: "Books", class:"sidebar-book") + 'All Books', books_path %>
      <div class="sidebar-textList">
        <%= link_to (inline_svg_tag 'gatherings-navbar.svg', alt: "List", class:"sidebar-list") + 'BookClub Gatherings', gatherings_path %>
      </div>
      <% if current_user %>
        <%= link_to (inline_svg_tag 'user.svg', alt: "Icon of an user", class:"sidebar-session") + 'Log Out', logout_path, method: :delete %>
      <% else %>
        <%= link_to (inline_svg_tag 'user.svg', alt: "Icon of an user", class:"sidebar-session") + 'Log In', login_path %>
      <% end %>
    </div>

    <script type="text/javascript">
    var mini = true;
      function toggleSidebar() {
        if (mini) {
          console.log("opening sidebar");
          document.getElementById("mySidebar").style.width = "20%";
          this.mini = false;
        } else {
          console.log("closing sidebar");
          document.getElementById("mySidebar").style.width = "5%";
          document.getElementById("mySidebar").style.paddingLeft = "1%";
          this.mini = true;
        }
      }
    </script>
  <%= yield %>
  </body>
</html>
